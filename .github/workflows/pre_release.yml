# This workflow will public Cocoapods and Docs

name: ğŸ†• Pre Release
on:
  workflow_dispatch:
    inputs:
      sdkVersion:
        description: 'Define the version of the SDK'
        required: true
  push:
    branches:
      - 'pre-release-workflow'
    

jobs:
  pre-release:
    name: ğŸ¬ Pre-Release
    runs-on: macos-latest
      
    steps:
      - name: ğŸ£ Get Release Notes
        id: get_release_notes
        uses: ./.github/workflows/get_release_notes.yml
        
      - name: ğŸ†• Create Pull Request
        uses: peter-evans/create-pull-request@v6
        with:
          delete-branch: true
          branch: pre-release
          commit-message: "pre-release: ${{ github.event.inputs.sdkVersion }}"
          title: Pre Release Tasks
          body: ${{ steps.get_release_notes.outputs.notes }}
          token: ${{ secrets.GITHUB_TOKEN }}
